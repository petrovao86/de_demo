# Таблицы
## Events
| Поле       | Тип данных             | Описание                                                                                                                                                                                                                                |
|------------|------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| dt         | DateTime               | Время события. **Обязательное**.                                                                                                                                                                                                        |
| name       | LowCardinality(String) | Название события. **Обязательное**. Например: `click`, `view`.                                                                                                                                                                          |
| user_id    | UInt64                 | Идентификатор пользователя. **Обязательное**.                                                                                                                                                                                           |
| url        | String                 | Страница на которой произошло событие. **Обязательное**.                                                                                                                                                                                |
| obj        | String                 | Объект с которым произошло событие. Например: `page`, `button`, `url`.                                                                                                                                                                  |
| obj_id     | String                 | Название объекта. Например: `checkout`, `product` для страниц, `add_to_cart` для кнопки.                                                                                                                                                |
| product_id | UInt64                 | Идентификатор товара, если событие связано с товаром.                                                                                                                                                                                   |
| amount     | Float32                | Cумма события, если событие связано с оплатой или стоимостью чего-либо. При просмотре товара стоимостью в 100 р. указывается `100`, при просмотре корзины стоимостью 500 р. указывается `500`  и т.п.                                   |
| exp        | Map(String, String)    | Эксперименты в рамках которых произошло событие в формате {Эксперимент: Вариант}. Например: пользователь участвует в эксперименте с иконкой корзины и отключением регистрации `{"cart_style": "default", "registration": "disabled"}`   |


Отвечает за хранение событий сайта. Партиционирована по `toYYYYMM(dt)`, ключ сортировки `dt, name, obj, obj_id`.

## EventsBuffer
Буферная таблица. Служит для защиты ClickHouse от точечных вставок. Скидывает данные в `Events`.
